# ==================== HOME VIEW ====================
title: Home
path: home
icon: mdi:home
panel: true

cards:
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 1fr
      margin: 0 auto
    card_mod:
      style: |
        :host {
          max-width: 600px !important;
          margin: 0 auto !important;
          display: block !important;
        }
        @media (min-width: 768px) {
          :host { max-width: 800px !important; }
        }
        @media (min-width: 1200px) {
          :host { max-width: 1200px !important; }
        }
    cards:
      # -------------------- Hero Card with Title Overlay --------------------
      - type: custom:stack-in-card
        mode: vertical
        card_mod:
          style:
            hui-vertical-stack-card $: |
              #root { row-gap: 0px !important; }
            .: |
              :host { row-gap: 0px; }
              ha-card {
                border-radius: 24px;
                margin: 16px 16px 16px 16px;
                box-shadow: 0 4px 24px rgba(0,0,0,0.15);
                overflow: hidden;
                background: var(--card-background-color, #fff);
              }
              @media (min-width: 768px) {
                ha-card { margin: 16px 0 16px 0; }
              }
        cards:
          # Hero Image with Dark Overlay and Title
          - type: custom:button-card
            name: Fleming Place
            show_icon: false
            show_state: false
            tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  height: 200px !important;
                  border-radius: 0;
                  box-shadow: none;
                  margin-bottom: 8px;
                  background-image: linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 40%, rgba(0,0,0,0.1) 60%, rgba(0,0,0,0.3) 100%), url("https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1200&h=600&fit=crop") !important;
                  background-size: cover !important;
                  background-position: center !important;
                }
                @media (min-width: 768px) {
                  ha-card { height: 240px !important; }
                }
                @media (min-width: 1200px) {
                  ha-card { height: 280px !important; }
                }
            styles:
              card:
                - height: 100%
                - border-radius: 0
              name:
                - font-family: "'Helvetica Neue', Helvetica, Arial, sans-serif"
                - font-size: 36px
                - font-weight: 500
                - color: "#E85D04"
                - text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5)
                - position: absolute
                - top: 24px
                - left: 24px
                - letter-spacing: -0.5px

          # Status Chips
          - type: custom:mushroom-chips-card
            alignment: center
            card_mod:
              style: |
                ha-card {
                  --chip-background: rgba(255,255,255,0.95);
                  --chip-box-shadow: 0 2px 8px rgba(0,0,0,0.15);
                  --chip-border-radius: 24px;
                  --chip-padding: 0 12px;
                  --chip-height: 36px;
                  background: transparent;
                  margin-top: -50px;
                  position: relative;
                  z-index: 1;
                }
            chips:
              - type: conditional
                conditions:
                  - entity: sensor.total_turned_on_lights_count_template
                    state_not: "0"
                chip:
                  type: template
                  entity: sensor.total_turned_on_lights_count_template
                  icon: mdi:lightbulb
                  icon_color: amber
                  content: "{{ states('sensor.total_turned_on_lights_count_template') }}"
                  tap_action:
                    action: navigate
                    navigation_path: "#lights-popup"

              - type: conditional
                conditions:
                  - entity: sensor.total_media_players_playing_template
                    state_not: "0"
                chip:
                  type: template
                  entity: sensor.total_media_players_playing_template
                  icon: mdi:television
                  icon_color: blue
                  content: "{{ states('sensor.total_media_players_playing_template') }}"
                  tap_action:
                    action: navigate
                    navigation_path: "#media-popup"

              - type: conditional
                conditions:
                  - entity: sensor.total_active_motion_sensors_count_template
                    state_not: "0"
                chip:
                  type: template
                  entity: sensor.total_active_motion_sensors_count_template
                  icon: mdi:run
                  icon_color: green
                  content: "{{ states('sensor.total_active_motion_sensors_count_template') }}"
                  tap_action:
                    action: navigate
                    navigation_path: "#motion-popup"

          # Info Lines
          - type: custom:button-card
            template: info_lines
            entity: weather.forecast_home
            triggers_update:
              - weather.forecast_home
              - calendar.family
              - calendar.events
              - calendar.calendar
              - calendar.home
              - sensor.liverpool
              - sensor.liverpool_cl
              - sensor.liverpool_fa
              - sensor.liverpool_lc
            styles:
              grid:
                - grid-template-areas: '"weather" "calendar" "liverpool"'
                - grid-template-rows: auto auto auto
              custom_fields: &info_line_style
                weather:
                  - font-size: 14px
                  - color: var(--secondary-text-color)
                  - text-align: left
                calendar:
                  - font-size: 14px
                  - color: var(--secondary-text-color)
                  - text-align: left
                liverpool:
                  - font-size: 14px
                  - color: var(--secondary-text-color)
                  - text-align: left
            custom_fields:
              weather: !include /var/lib/hass/templates/weather_info.yaml
              calendar: !include /var/lib/hass/templates/calendar_info.yaml
              liverpool: !include /var/lib/hass/templates/liverpool_info.yaml
            tap_action:
              action: none

      # -------------------- Tabbed Section --------------------
      - type: custom:state-switch
        entity: hash
        default: tab-rooms
        card_mod:
          style: |
            ha-card {
              margin: 0 16px 16px 16px;
              border-radius: 24px;
              box-shadow: 0 4px 24px rgba(0,0,0,0.15);
              overflow: hidden;
              background: var(--card-background-color, #fff);
            }
            @media (min-width: 768px) {
              ha-card { margin: 0 0 16px 0; }
            }
        states:
          "tab-rooms":
            type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:button-card
                template: transparent
                styles:
                  card:
                    - padding: 12px 16px 0 16px
                  grid:
                    - grid-template-areas: '"tabs"'
                    - grid-template-columns: 1fr
                  custom_fields:
                    tabs:
                      - justify-self: start
                custom_fields:
                  tabs: |
                    <div style="display: flex; gap: 24px;">
                      <div style="padding: 8px 0; border-bottom: 2px solid #E85D04;">
                        <span style="color: #E85D04; font-weight: 500; font-size: 15px;">Rooms</span>
                      </div>
                      <div style="padding: 8px 0; cursor: pointer;" onclick="window.location.hash='#tab-peoples'">
                        <span style="color: var(--secondary-text-color); font-size: 15px;">Peoples</span>
                      </div>
                      <div style="padding: 8px 0; cursor: pointer;" onclick="window.location.hash='#tab-calendar'">
                        <span style="color: var(--secondary-text-color); font-size: 15px;">Calendar</span>
                      </div>
                      <div style="padding: 8px 0; cursor: pointer;" onclick="window.location.hash='#tab-other'">
                        <span style="color: var(--secondary-text-color); font-size: 15px;">Other</span>
                      </div>
                    </div>
              - type: markdown
                content: "Rooms content placeholder - room cards will go here"
                card_mod:
                  style: |
                    ha-card {
                      padding: 16px;
                      background: transparent;
                      box-shadow: none;
                    }

          "tab-peoples":
            type: custom:stack-in-card
            mode: vertical
            cards:
              - type: horizontal-stack
                card_mod:
                  style: |
                    hui-horizontal-stack-card {
                      display: flex;
                      justify-content: flex-start;
                      gap: 8px;
                      padding: 12px 16px;
                    }
                    hui-horizontal-stack-card > * {
                      flex: 0 0 auto !important;
                      width: auto !important;
                      min-width: 0 !important;
                    }
                cards:
                  - type: custom:button-card
                    name: Rooms
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-rooms"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Peoples
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-peoples"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                        - border-bottom: 2px solid #E85D04
                        - margin-bottom: -1px
                      name:
                        - font-size: 15px
                        - font-weight: 500
                        - color: "#E85D04"
                  - type: custom:button-card
                    name: Calendar
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-calendar"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Other
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-other"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
              - type: markdown
                content: "Peoples content placeholder - person tracking cards will go here"
                card_mod:
                  style: |
                    ha-card {
                      padding: 16px;
                      background: transparent;
                      box-shadow: none;
                    }

          "tab-calendar":
            type: custom:stack-in-card
            mode: vertical
            cards:
              - type: horizontal-stack
                card_mod:
                  style: |
                    hui-horizontal-stack-card {
                      display: flex;
                      justify-content: flex-start;
                      gap: 8px;
                      padding: 12px 16px;
                    }
                    hui-horizontal-stack-card > * {
                      flex: 0 0 auto !important;
                      width: auto !important;
                      min-width: 0 !important;
                    }
                cards:
                  - type: custom:button-card
                    name: Rooms
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-rooms"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Peoples
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-peoples"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Calendar
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-calendar"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                        - border-bottom: 2px solid #E85D04
                        - margin-bottom: -1px
                      name:
                        - font-size: 15px
                        - font-weight: 500
                        - color: "#E85D04"
                  - type: custom:button-card
                    name: Other
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-other"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
              - type: markdown
                content: "Calendar content placeholder - calendar views will go here"
                card_mod:
                  style: |
                    ha-card {
                      padding: 16px;
                      background: transparent;
                      box-shadow: none;
                    }

          "tab-other":
            type: custom:stack-in-card
            mode: vertical
            cards:
              - type: horizontal-stack
                card_mod:
                  style: |
                    hui-horizontal-stack-card {
                      display: flex;
                      justify-content: flex-start;
                      gap: 8px;
                      padding: 12px 16px;
                    }
                    hui-horizontal-stack-card > * {
                      flex: 0 0 auto !important;
                      width: auto !important;
                      min-width: 0 !important;
                    }
                cards:
                  - type: custom:button-card
                    name: Rooms
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-rooms"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Peoples
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-peoples"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Calendar
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-calendar"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                      name:
                        - font-size: 15px
                        - font-weight: 400
                        - color: var(--secondary-text-color)
                  - type: custom:button-card
                    name: Other
                    tap_action:
                      action: navigate
                      navigation_path: "#tab-other"
                    template: transparent
                    styles:
                      card:
                        - padding: 8px 16px
                        - border-bottom: 2px solid #E85D04
                        - margin-bottom: -1px
                      name:
                        - font-size: 15px
                        - font-weight: 500
                        - color: "#E85D04"
              - type: markdown
                content: "Other content placeholder - miscellaneous controls will go here"
                card_mod:
                  style: |
                    ha-card {
                      padding: 16px;
                      background: transparent;
                      box-shadow: none;
                    }

      # -------------------- Popups --------------------
      - !include /var/lib/hass/popups/lights.yaml
      - !include /var/lib/hass/popups/media.yaml
      - !include /var/lib/hass/popups/motion.yaml
