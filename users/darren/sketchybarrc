#!/bin/bash

# Color Palette (matching your catppuccin theme)
export BG_COLOR=0xff303446
export FG_COLOR=0xffc6d0f5
export ACTIVE_COLOR=0xff81c8be
export INACTIVE_COLOR=0xff626880

# Bar Appearance
sketchybar --bar position=top height=32 blur_radius=30 color=$BG_COLOR

# Default settings for items
sketchybar --default background.color=$BG_COLOR \
    background.corner_radius=5 \
    background.height=24 \
    label.font="SauceCodePro Nerd Font:Semibold:14.0" \
    label.color=$FG_COLOR \
    icon.color=$FG_COLOR \
    icon.font="SauceCodePro Nerd Font:Bold:16.0" \
    padding_left=5 \
    padding_right=5 \
    label.padding_left=8 \
    label.padding_right=8

# Create workspace items with icons
sketchybar --add item space.W left \
    --set space.W \
    icon=" " \
    label.drawing=off \
    click_script="aerospace workspace W" \
    icon.padding_left=5 \
    icon.padding_right=5 \
    script="$HOME/.config/sketchybar/plugins/aerospace.sh W"

sketchybar --add item space.C left \
    --set space.C \
    icon=" " \
    label.drawing=off \
    click_script="aerospace workspace C" \
    icon.padding_left=5 \
    icon.padding_right=5 \
    script="$HOME/.config/sketchybar/plugins/aerospace.sh C"

sketchybar --add item space.P left \
    --set space.P \
    icon=" " \
    label.drawing=off \
    click_script="aerospace workspace P" \
    icon.padding_left=5 \
    icon.padding_right=5 \
    script="$HOME/.config/sketchybar/plugins/aerospace.sh P"

sketchybar --add item space.F left \
    --set space.F \
    icon=" " \
    label.drawing=off \
    click_script="aerospace workspace F" \
    icon.padding_left=5 \
    icon.padding_right=5 \
    script="$HOME/.config/sketchybar/plugins/aerospace.sh F"

# Add event and subscribe all workspace items to it
sketchybar --add event aerospace_workspace_change
sketchybar --subscribe space.W aerospace_workspace_change
sketchybar --subscribe space.C aerospace_workspace_change
sketchybar --subscribe space.P aerospace_workspace_change
sketchybar --subscribe space.F aerospace_workspace_change

# Finalize setup
sketchybar --update
